<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avonic Authentication</title>
  <link rel="stylesheet" href="forms.css">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <div class="split-layout">
    
    <div class="splash-section">
      <img src="img/splash-bg-log.png" alt="Avonic Splash" class="splash-img">
    </div>

    <div class="forms-section">
      
      <div class="form-container" id="login-container">
        <div class="form-header">
          <div class="logo-wrapper">
            <img src="img/Avonic Logo.svg" alt="Avonic" class="logo-icon">
            <span class="brand-name">avonic</span>
          </div>
          <h2>Log in to your Account</h2>
          <p class="subtext">Welcome back, please enter your details</p>
        </div>

        <div class="illustration-wrapper">
  <img src="../img/keyhole.png" alt="Login Illustration" class="keyhole-img">
</div>

        <div id="form-message" style="display:none;"></div>

        <form>
          <div class="input-group">
            <img src="img/form-icons/User.svg" alt="" class="field-icon">
            <input type="text" placeholder="Username" required>
          </div>

          <div class="input-group">
            <img src="img/form-icons/Password.svg" alt="" class="field-icon">
            <input type="password" class="password-input" placeholder="Password" required>
            <img src="img/form-icons/eye-close.svg" alt="" class="toggle-password">
          </div>

          <div class="forgot-row">
            <a href="#" class="forgot-link">Forgot password?</a>
          </div>

          <button type="submit" class="primary-btn">
            Login <span class="arrow">→</span>
          </button>
        </form>

        <p class="bottom-link">
          Don't have an account? <a href="#" class="signup-link">Sign up</a>
        </p>
      </div>

      <div class="form-container" id="register-container" style="display: none;">
        <div class="form-header">
          <div class="logo-wrapper">
            <img src="img/Avonic Logo.svg" alt="Avonic" class="logo-icon">
            <span class="brand-name">avonic</span>
          </div>
          <h2>Create Account</h2>
          <p class="subtext">Join the Avonic community</p>
        </div>

        <form>
          <div class="input-group">
            <img src="img/form-icons/User.svg" alt="" class="field-icon">
            <input type="text" placeholder="Username (3-20 chars)" required>
          </div>
          
          <div class="input-group">
            <img src="img/form-icons/User.svg" alt="" class="field-icon">
            <input type="email" placeholder="Email Address" required>
          </div>

          <div class="input-group">
            <img src="img/form-icons/Password.svg" alt="" class="field-icon">
            <input type="password" class="password-input" placeholder="Password" required>
            <img src="img/form-icons/eye-close.svg" alt="" class="toggle-password">
          </div>

          <div class="input-group">
            <img src="img/form-icons/Password.svg" alt="" class="field-icon">
            <input type="password" class="password-input" placeholder="Confirm Password" required>
          </div>

          <button type="submit" class="primary-btn">
            Register <span class="arrow">→</span>
          </button>
        </form>

        <p class="bottom-link">
          Already have an account? <a href="#" class="signup-link">Log in</a>
        </p>
      </div>

      <div class="form-container" id="forgot-container" style="display: none;">
        <div class="form-header">
          <div class="logo-wrapper">
            <img src="img/Avonic Logo.svg" alt="Avonic" class="logo-icon">
            <span class="brand-name">avonic</span>
          </div>
          <h2>Forgot Password</h2>
          <p class="subtext">We'll send a code to your email</p>
        </div>

        <form>
          <div class="input-group">
            <img src="img/form-icons/User.svg" alt="" class="field-icon">
            <input type="email" placeholder="Enter your email" required>
          </div>

          <button type="submit" class="primary-btn" style="margin-top: 20px;">
            Send Code <span class="arrow">→</span>
          </button>
        </form>

        <p class="bottom-link">
          Remember it now? <a href="#" class="signup-link">Log in</a>
        </p>
      </div>

      <div class="form-container" id="reset-container" style="display: none;">
        <div class="form-header">
          <div class="logo-wrapper">
            <img src="img/Avonic Logo.svg" alt="Avonic" class="logo-icon">
            <span class="brand-name">avonic</span>
          </div>
          <h2>Reset Password</h2>
          <p class="subtext">Enter the code sent to your email</p>
        </div>

        <form>
           <div class="code-inputs-wrapper">
             <label style="font-size: 14px; font-weight: 600; color: #333; display: block; margin-bottom: 8px;">6-Digit Code</label>
             <div class="code-inputs">
                <input type="text" maxlength="1" inputmode="numeric">
                <input type="text" maxlength="1" inputmode="numeric">
                <input type="text" maxlength="1" inputmode="numeric">
                <input type="text" maxlength="1" inputmode="numeric">
                <input type="text" maxlength="1" inputmode="numeric">
                <input type="text" maxlength="1" inputmode="numeric">
             </div>
           </div>

          <div class="input-group">
            <img src="img/form-icons/Password.svg" alt="" class="field-icon">
            <input type="password" class="password-input" placeholder="New Password" required>
          </div>
          <div class="input-group">
            <img src="img/form-icons/Password.svg" alt="" class="field-icon">
            <input type="password" class="password-input" placeholder="Confirm Password" required>
          </div>

          <button type="submit" class="primary-btn">
            Reset Password
          </button>
        </form>
      </div>

    </div> 
  </div>

<script src="js/auth.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // 1. Password Toggle Logic
  document.querySelectorAll('.toggle-password').forEach(icon => {
    icon.addEventListener('click', (e) => {
      const input = e.target.previousElementSibling;
      if(input.type === "password") {
        input.type = "text";
        e.target.src = "img/form-icons/eye-open.svg"; 
      } else {
        input.type = "password";
        e.target.src = "img/form-icons/eye-close.svg";
      }
    });
  });

  // 2. Auto-Advance for 6-Digit Code Input (Restored!)
  const codeInputs = document.querySelectorAll('.code-inputs input');
  codeInputs.forEach((input, index) => {
    input.addEventListener('input', (e) => {
      const value = e.target.value;

      // Only allow numbers
      if (!/^[0-9]$/.test(value)) {
        e.target.value = '';
        return;
      }

      // Move to next input if filled
      if (value.length === 1 && index < codeInputs.length - 1) {
        codeInputs[index + 1].focus();
      }
    });

    // Handle Backspace
    input.addEventListener('keydown', (e) => {
      if (e.key === 'Backspace' && input.value === '' && index > 0) {
        codeInputs[index - 1].focus();
      }
    });
  });
});
</script>
</body>
</html>